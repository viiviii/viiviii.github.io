---
title: "Dart callback null ì²˜ë¦¬í•˜ê¸°"
excerpt: "Dartì—ì„œ callback null ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´"
date: 2021-03-03
---


### Dart functionÂ null ì²´í¬í•˜ì—¬ ë‹¤ë¥¸ ê°’ ë„£ê¸°

Dartë¡œ Flutterë¥¼ ê°œë°œí•˜ë‹¤ ë³´ë©´ ì¢…ì¢… íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ì½œë°±ì„ ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•  ë•Œê°€ ìžˆìŒ

í•˜ì§€ë§Œ callbackì„ null ì²´í¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ `NoSuchMethodError`ê°€ ë°œìƒí•  ê²ƒìž„

> The following NoSuchMethodError was thrown while handling a gesture:  
> The method 'call' was called on null.  
> Receiver: null  
> Tried calling: call()  
> ...  


dartë¡œ ê°„ë‹¨í•œ êµ¬í˜„ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ìƒí™© ë³„ null ì²˜ë¦¬ì— ëŒ€í•´ ì •ë¦¬í•¨

> âš âš âš   
> ì•„ëž˜ì— ìž‘ì„±í•œ ëª¨ë“  ì²˜ë¦¬ëŠ” if(callback != null) callback()ê³¼ ê°™ì€ ê²°ê³¼ì´ë¯€ë¡œ,  
> ê¸°ì¡´ì— ì´ë ‡ê²Œ ì²˜ë¦¬ë¥¼ í•˜ê³  ìžˆëŠ” ê²½ìš°ì—ëŠ” í¬ìŠ¤íŒ…ì´ ë¶ˆí•„ìš” í•  ìˆ˜ ìžˆìŒ

## 1. callbackì´ ìžˆìœ¼ë©´ í˜¸ì¶œí•˜ê³  ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šì„ ë•Œ

```dart
void callbackNullHandlingTest1({Function callback}) {
   callback?.call();
}
```

## 2. callbackì´ return ê°’ì´ ìžˆê³ , null ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ

```dart
void callbackNullHandlingTest2_1({String Function() callback}) {
  final message = callback?.call() ?? 'callback is null!';
  print(message);
}

// ê²°ê³¼: callback is null!
```

```dart
void callbackNullHandlingTest2_2({String Function() callback}) {
  defaultMessage() => 'default message!';
  final message = callback?.call() ?? defaultMessage();
  final message2 = (callback ?? defaultMessage).call();
  print(message);
  print(message2);
}

// ê²°ê³¼: default message!
// ê²°ê³¼: default message!
```

## 3. callback return íƒ€ìž…ì´ voidì´ê³ , nullì´ë©´ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ

(2)ì˜ `callback?.call() ?? defaultFunction()`ì™€ ê°™ì´ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ expression errorê°€ ë°œìƒí•¨

> This expression has a type of 'void' so its value can't be used.  
>     
> Try checking to see if you're using the correct API; there might be a function or call that returns void you didn't expect. Also check type parameters and variables which might also be void.


### ë§¤ê°œë³€ìˆ˜ê°€ ì—†ì„ ë•Œ

* (2)ì—ì„œ ë‘ ë²ˆì§¸ ë°©ì‹ì²˜ëŸ¼ ì‚¬ìš©

```dart 
void callbackNullHandlingTest3_1({void Function() callback}) {
  defaultFunction() => print('default function!');
  (callback ?? defaultFunction).call();
}

// ê²°ê³¼: default function!
```

* `Function.apply` ì‚¬ìš©

```dart
void callbackNullHandlingTest3_2({void Function() callback}) {
  defaultFunction() => print('default function!');
  Function.apply(callback ?? defaultFunction, null);
}

// ê²°ê³¼: default function!
```


### ë§¤ê°œë³€ìˆ˜ê°€ ìžˆì„ ë•Œ

* `positional parameters`ì¼ ë•Œ

```dart
void callbackNullHandlingTest3_3({void Function(String a, String b) callback}) {
  defaultFunction(String a, String b) => print('$a, $b!');
  (callback ?? defaultFunction).call('Hi', 'Bob');
  Function.apply(callback ?? defaultFunction, ['Hi', 'Bob']);
}

// ê²°ê³¼: Hi, Bob!
```

* `named parameters`ì¼ ë•Œ

```dart
void callbackNullHandlingTest3_4({void Function({String message, String name}) callback}) {
  defaultFunction({String message, String name}) => print('$message, $name!');
  (callback ?? defaultFunction).call(message: 'Hello', name: 'John Doe');
  Function.apply(callback ?? defaultFunction, null, {Symbol('message'): 'Hello', Symbol('name'): 'John Doe'});
}

// ê²°ê³¼: Hello, John Doe!
```

<details>
   <summary> ðŸ‘€ì „ì²´ ì½”ë“œ ë³´ê¸° </summary>
   
<pre>
void main() {
  callbackNullHandlingTest1(callback: null);
  callbackNullHandlingTest2_1(callback: null);
  callbackNullHandlingTest2_2(callback: null);
  callbackNullHandlingTest3_1(callback: null);
  callbackNullHandlingTest3_2(callback: null);
  callbackNullHandlingTest3_3(callback: null);
  callbackNullHandlingTest3_4(callback: null);
}

void callbackNullHandlingTest1({Function callback}) {
  callback?.call();
}

void callbackNullHandlingTest2_1({String Function() callback}) {
  final message = callback?.call() ?? 'callback is null';
  print(message);
}

void callbackNullHandlingTest2_2({String Function() callback}) {
  defaultMessage() => 'default message!';
  final message = callback?.call() ?? defaultMessage();
  final message2 = (callback ?? defaultMessage).call();
  print(message);
  print(message2);
}

void callbackNullHandlingTest3_1({void Function() callback}) {
  defaultFunction() => print('default function!');
  (callback ?? defaultFunction).call();
}

void callbackNullHandlingTest3_2({void Function() callback}) {
  defaultFunction() => print('default function!');
  Function.apply(callback ?? defaultFunction, null);
}

void callbackNullHandlingTest3_3({void Function(String a, String b) callback}) {
  defaultFunction(String a, String b) => print('$a, $b!');
  (callback ?? defaultFunction).call('Hi', 'Bob');
  Function.apply(callback ?? defaultFunction, ['Hi', 'Bob']);
}

void callbackNullHandlingTest3_4({void Function({String message, String name}) callback}) {
  defaultFunction({String message, String name}) => print('$message, $name!');
  (callback ?? defaultFunction).call(message: 'Hello', name: 'John Doe');
  Function.apply(callback ?? defaultFunction, null, {Symbol('message'): 'Hello', Symbol('name'): 'John Doe'});
}
</pre>

</details>
